(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{815:function(e,t,a){"use strict";a.r(t);var n=a(51),r=a.n(n),c=a(71),i=a.n(c),o=a(25),s=a.n(o),l=a(46),u=a.n(l),d=a(734),m=a(773),p=a(735),h=a(776),b=a(485),f=a(92),E=a(227),v=a(738),g=a(723),y=a.n(g),k=a(778),x=a(150),O=a(40),w=a(0),P=a.n(w),j=a(745),C=a(741),I=a(726),T=a(727),S=a(483),_=a(743),z=a(117),N=a(15),B=a(20),F=a.n(B);function q(e){var t=e.visible,a=e.onClose,n=e.product,r=n||{},c={_id:r._id,code:r.code,name:r.name,brand:r.brand,discount:r.discount,price:r.price,stock:r.stock,type:r.type},o=Object(w.useState)(!1),l=s()(o,2),d=l[0],m=l[1],p=function(){var e=i()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,k.a.updateProduct(t);case 4:(n=e.sent)&&200===n.status&&(b.b.success("Cập nhật thành công"),a(t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b.b.error("Cập nhật thất bại");case 11:m(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return P.a.createElement(j.a,{className:"edit-product-modal",destroyOnClose:!1,maskClosable:!1,visible:t,okText:"Cập nhật",cancelText:"Huỷ bỏ",onCancel:a,okButtonProps:{form:"editForm",htmlType:"submit"},title:"Chỉnh sửa thông tin sản phẩm",confirmLoading:d,width:1e3,centered:!0},P.a.createElement(C.a,{initialValues:c,name:"editForm",onFinish:function(e){return p(e)}},P.a.createElement(I.a,{gutter:[16,16]},P.a.createElement(T.a,{span:12},P.a.createElement(C.a.Item,{name:"_id"},P.a.createElement(S.a,{disabled:!0,size:"large",placeholder:"ID"}))),P.a.createElement(T.a,{span:12},P.a.createElement(C.a.Item,{name:"code",rules:[{required:!0,message:"Bắt buộc",whitespace:!0}]},P.a.createElement(S.a,{size:"large",placeholder:"Mã sản phẩm *"}))),P.a.createElement(T.a,{span:12},P.a.createElement(C.a.Item,{name:"name",rules:[{required:!0,message:"Bắt buộc",whitespace:!0}]},P.a.createElement(S.a,{size:"large",placeholder:"Tên sản phẩm *"}))),P.a.createElement(T.a,{span:12},P.a.createElement(C.a.Item,{name:"price",rules:[{required:!0,message:"Bắt buộc"}]},P.a.createElement(_.a,{min:0,max:9e9,step:1e5,className:"w-100",size:"large",placeholder:"Giá sản phẩm *"}))),P.a.createElement(T.a,{span:12},P.a.createElement(C.a.Item,{name:"type",rules:[{required:!0,message:"Bắt buộc"}]},P.a.createElement(z.a,{size:"large",placeholder:"Loại sản phẩm *"},N.a.PRODUCT_TYPES.map((function(e,t){return P.a.createElement(z.a.Option,{value:e.type,key:t},e.label)}))))),P.a.createElement(T.a,{span:12},P.a.createElement(C.a.Item,{name:"brand",rules:[{required:!0,message:"Bắt buộc",whitespace:!0}]},P.a.createElement(S.a,{size:"large",placeholder:"Thương hiệu *"}))),P.a.createElement(T.a,{span:12},P.a.createElement(C.a.Item,{name:"stock",rules:[{required:!0,message:"Bắt buộc"}]},P.a.createElement(_.a,{style:{width:"100%"},step:1,size:"large",min:0,max:1e5,placeholder:"Tồn kho *"}))),P.a.createElement(T.a,{span:12},P.a.createElement(C.a.Item,{name:"discount",rules:[{required:!0,message:"Bắt buộc"}]},P.a.createElement(_.a,{style:{width:"100%"},step:1,size:"large",min:0,max:100,placeholder:"Mức giảm giá *"}))))))}q.propTypes={onClose:F.a.func,product:F.a.object,visible:F.a.bool};var D=q;function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function H(){for(var e=[],t=0;t<15;++t)e.push({value:t,text:O.a.convertProductType(t)});return e}t.default=function(){var e=Object(w.useState)({visible:!1,product:null}),t=s()(e,2),a=t[0],n=t[1],r=Object(w.useState)({visible:!1,_id:""}),c=s()(r,2),o=c[0],l=c[1],g=Object(w.useState)(!1),j=s()(g,2),C=j[0],I=j[1],T=Object(w.useState)([]),S=s()(T,2),_=S[0],z=S[1],N=function(){var e=i()(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.removeProduct(t);case 3:(a=e.sent)&&200===a.status&&(b.b.success("Xoá thành công."),n=_.filter((function(e){return e._id!==t})),z(n),setTotal(total-1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),b.b.error("Xoá thất bại, thử lại !");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();Object(w.useEffect)((function(){var e=!0;function t(){return(t=i()(u.a.mark((function t(){var a,n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.getAllProducts(-1);case 3:(a=t.sent)&&e&&(n=a.data.data,r=n.map((function(e,t){return X(X({},e),{},{key:t})})),z(r),I(!1)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),e&&I(!1),b.b.error("Lấy danh sách sản phẩm thất bại.");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return I(!0),function(){t.apply(this,arguments)}(),function(){e=!1}}),[]);var B=[{title:"Mã",key:"code",dataIndex:"code",render:function(e,t){return P.a.createElement("a",{target:"blank",href:"/product/".concat(t._id)},e)}},{title:"Hình Ảnh",key:"avt",dataIndex:"avt",render:function(e){return P.a.createElement("img",{className:"max-w-100 max-h-100",src:e,alt:"Product Photo"})}},{title:"Tên",key:"name",dataIndex:"name",render:function(e){return P.a.createElement(f.a,{title:e},O.a.reduceProductName(e,40))}},{title:"Giá",key:"price",dataIndex:"price",defaultSortOrder:"descend",sorter:function(e,t){return e.price-t.price},render:function(e){return P.a.createElement("h3",{style:{color:"#4F55C5"}},e?O.a.formatProductPrice(e):"Liên hệ")}},{title:"Loại",key:"type",dataIndex:"type",filters:H(),onFilter:function(e,t){return t.type===e},render:function(e){return O.a.convertProductType(e)}},{title:"Thương hiệu",key:"brand",dataIndex:"brand",sorter:function(e,t){return e.brand<t.brand?-1:e.brand>t.brand?1:0},render:function(e){return P.a.createElement(f.a,{title:e},O.a.reduceProductName(e,40))}},{title:"Tồn kho",key:"stock",dataIndex:"stock",defaultSortOrder:"ascend",sorter:function(e,t){return e.stock-t.stock}},{title:"Mức giảm giá",key:"discount",dataIndex:"discount",defaultSortOrder:"ascend",sorter:function(e,t){return e.discount-t.discount},render:function(e){return"".concat(e," %")}},{title:"Đánh giá",key:"rate",dataIndex:"rate",render:function(e){return O.a.calStar(e).toFixed(1)}},{title:"Hành động",key:"actions",fixed:"right",width:100,render:function(e){return P.a.createElement(P.a.Fragment,null,P.a.createElement(d.a,{onClick:function(){return l({visible:!0,_id:e._id})},className:"m-r-8 action-btn-product",style:{color:"red"}}),P.a.createElement(f.a,{title:"Chỉnh sửa",placement:"left"},P.a.createElement(m.a,{onClick:function(){n({visible:!0,product:X({},e)})},className:"m-r-8 action-btn-product",style:{color:"#444"}})),P.a.createElement(f.a,{title:"Xem chi tiết",placement:"left"},P.a.createElement("a",{target:"blank",href:"/product/".concat(e._id)},P.a.createElement(p.a,{className:"action-btn-product",style:{color:"#444"}}))))}}];return P.a.createElement("div",{className:"pos-relative p-8"},C?P.a.createElement(E.a,{tip:"Đang tải danh sách sản phẩm ...",size:"large",className:"trans-center"}):P.a.createElement(P.a.Fragment,null," ",P.a.createElement(y.a,{title:"Xác nhận xoá sản phẩm",visible:o.visible,onOk:function(){N(o._id),l({visible:!1,_id:!1})},onCancel:function(){return l({visible:!1,_id:!1})},okButtonProps:{danger:!0},okText:"Xoá",cancelText:"Huỷ bỏ"},P.a.createElement(h.a,{style:{fontSize:28,color:"#F7B217"}}),P.a.createElement("b",null," Không thể khôi phục được, bạn có chắc muốn xoá ?")),P.a.createElement(v.a,{pagination:{pageSize:10,position:["bottomCenter"],showSizeChanger:!1},className:"admin-see-product",columns:B,dataSource:_}),P.a.createElement(D,{visible:a.visible,onClose:function(e){return t=e,a=_.map((function(e){return e._id!==t._id?e:X(X({},e),t)})),z(a),void n({visible:!1});var t,a},product:a.product})))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29udGFpbmVycy9BZG1pblBhZ2UvUHJvZHVjdFBhZ2UvU2VlUHJvZHVjdC9FZGl0UHJvZHVjdE1vZGFsL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb250YWluZXJzL0FkbWluUGFnZS9Qcm9kdWN0UGFnZS9TZWVQcm9kdWN0L2luZGV4LmpzIl0sIm5hbWVzIjpbIkVkaXRQcm9kdWN0TW9kYWwiLCJwcm9wcyIsInZpc2libGUiLCJvbkNsb3NlIiwicHJvZHVjdCIsImluaXRWYWx1ZXMiLCJfaWQiLCJjb2RlIiwibmFtZSIsImJyYW5kIiwiZGlzY291bnQiLCJwcmljZSIsInN0b2NrIiwidHlwZSIsInVzZVN0YXRlIiwiaXNVcGRhdGluZyIsInNldElzVXBkYXRpbmciLCJvbkVkaXQiLCJ2YWx1ZSIsImFkbWluQXBpIiwidXBkYXRlUHJvZHVjdCIsInJlc3BvbnNlIiwic3RhdHVzIiwibWVzc2FnZSIsInN1Y2Nlc3MiLCJlcnJvciIsImNsYXNzTmFtZSIsImRlc3Ryb3lPbkNsb3NlIiwibWFza0Nsb3NhYmxlIiwib2tUZXh0IiwiY2FuY2VsVGV4dCIsIm9uQ2FuY2VsIiwib2tCdXR0b25Qcm9wcyIsImZvcm0iLCJodG1sVHlwZSIsInRpdGxlIiwiY29uZmlybUxvYWRpbmciLCJ3aWR0aCIsImNlbnRlcmVkIiwiaW5pdGlhbFZhbHVlcyIsIm9uRmluaXNoIiwiZ3V0dGVyIiwic3BhbiIsIkl0ZW0iLCJkaXNhYmxlZCIsInNpemUiLCJwbGFjZWhvbGRlciIsInJ1bGVzIiwicmVxdWlyZWQiLCJ3aGl0ZXNwYWNlIiwibWluIiwibWF4Iiwic3RlcCIsImNvbnN0YW50cyIsIlBST0RVQ1RfVFlQRVMiLCJtYXAiLCJpdGVtIiwiaW5kZXgiLCJPcHRpb24iLCJrZXkiLCJsYWJlbCIsInN0eWxlIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwiZnVuYyIsIm9iamVjdCIsImJvb2wiLCJnZW5lcmF0ZUZpbHRlclR5cGUiLCJyZXN1bHQiLCJpIiwicHVzaCIsInRleHQiLCJoZWxwZXJzIiwiY29udmVydFByb2R1Y3RUeXBlIiwiU2VlUHJvZHVjdCIsImVkaXRNb2RhbCIsInNldEVkaXRNb2RhbCIsIm1vZGFsRGVsIiwic2V0TW9kYWxEZWwiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJsaXN0Iiwic2V0TGlzdCIsIm9uRGVsZXRlIiwicmVtb3ZlUHJvZHVjdCIsIm5ld0xpc3QiLCJmaWx0ZXIiLCJzZXRUb3RhbCIsInRvdGFsIiwidXNlRWZmZWN0IiwiaXNTdWJzY3JpYmUiLCJhIiwicHJvZHVjdEFwaSIsImdldEFsbFByb2R1Y3RzIiwiZGF0YSIsImdldFByb2R1Y3RMaXN0IiwiY29sdW1ucyIsImRhdGFJbmRleCIsInJlbmRlciIsInRhcmdldCIsImhyZWYiLCJhdnQiLCJzcmMiLCJhbHQiLCJyZWR1Y2VQcm9kdWN0TmFtZSIsImRlZmF1bHRTb3J0T3JkZXIiLCJzb3J0ZXIiLCJiIiwiY29sb3IiLCJmb3JtYXRQcm9kdWN0UHJpY2UiLCJmaWx0ZXJzIiwib25GaWx0ZXIiLCJyZWNvcmQiLCJyYXRlIiwiY2FsU3RhciIsInRvRml4ZWQiLCJmaXhlZCIsIkRlbGV0ZU91dGxpbmVkIiwib25DbGljayIsInBsYWNlbWVudCIsIkVkaXRPdXRsaW5lZCIsIkV5ZU91dGxpbmVkIiwidGlwIiwib25PayIsImRhbmdlciIsIldhcm5pbmdPdXRsaW5lZCIsImZvbnRTaXplIiwicGFnaW5hdGlvbiIsInBhZ2VTaXplIiwicG9zaXRpb24iLCJzaG93U2l6ZUNoYW5nZXIiLCJkYXRhU291cmNlIiwibmV3UHJvZHVjdCJdLCJtYXBwaW5ncyI6InFZQWVBLFNBQVNBLEVBQWlCQyxHQUN4QixJQUFRQyxFQUE4QkQsRUFBOUJDLFFBQVNDLEVBQXFCRixFQUFyQkUsUUFBU0MsRUFBWUgsRUFBWkcsUUFDMUIsRUFBaUVBLEdBRTdELEdBQ0VDLEVBQWEsQ0FBRUMsSUFIVixFQUFIQSxJQUdrQkMsS0FIVCxFQUFKQSxLQUdtQkMsS0FIVCxFQUFKQSxL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QUMsZ0JBQ1hDLGlCQUFpQixHQUVuQnhHLFVBQVUsb0JBQ1ZzRSxRQUFTQSxFQUNUbUMsV0FBWWxELElBR2Qsa0JBQUMsRUFBZ0IsQ0FDZi9FLFFBQVN5RSxFQUFVekUsUUFDbkJDLFFBQVMsU0FBQ2UsR0FBSyxPQXZNQ2tILEVBdU1xQmxILEVBdE12Q21FLEVBQVVKLEVBQUsxQixLQUFJLFNBQUNDLEdBQUksT0FDNUJBLEVBQUtsRCxNQUFROEgsRUFBVzlILElBQU1rRCxFQUFPLEVBQUgsS0FBUUEsR0FBUzRFLE1BRXJEbEQsRUFBUUcsUUFDUlQsRUFBYSxDQUFFMUUsU0FBUyxJQUxELElBQUNrSSxFQUNsQi9DLEdBdU1FakYsUUFBU3VFLEVBQVV2RSIsImZpbGUiOiIxNS4xZWQyNjE3ZjFhOGQ4NDRhYzkxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENvbCxcbiAgRm9ybSxcbiAgSW5wdXQsXG4gIElucHV0TnVtYmVyLFxuICBtZXNzYWdlLFxuICBNb2RhbCxcbiAgUm93LFxuICBTZWxlY3QsXG59IGZyb20gJ2FudGQnO1xuaW1wb3J0IGFkbWluQXBpIGZyb20gJ2FwaXMvYWRtaW5BcGknO1xuaW1wb3J0IGNvbnN0YW50cyBmcm9tICdjb25zdGFudHMvaW5kZXgnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gRWRpdFByb2R1Y3RNb2RhbChwcm9wcykge1xuICBjb25zdCB7IHZpc2libGUsIG9uQ2xvc2UsIHByb2R1Y3QgfSA9IHByb3BzO1xuICBjb25zdCB7IF9pZCwgY29kZSwgbmFtZSwgYnJhbmQsIGRpc2NvdW50LCBwcmljZSwgc3RvY2ssIHR5cGUgfSA9IHByb2R1Y3RcbiAgICA/IHByb2R1Y3RcbiAgICA6IHt9O1xuICBjb25zdCBpbml0VmFsdWVzID0geyBfaWQsIGNvZGUsIG5hbWUsIGJyYW5kLCBkaXNjb3VudCwgcHJpY2UsIHN0b2NrLCB0eXBlIH07XG4gIGNvbnN0IFtpc1VwZGF0aW5nLCBzZXRJc1VwZGF0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBldmVudDogU+G7rWEgY2jhu69hIHPhuqNuIHBo4bqpbVxuICBjb25zdCBvbkVkaXQgPSBhc3luYyAodmFsdWUpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0SXNVcGRhdGluZyh0cnVlKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWRtaW5BcGkudXBkYXRlUHJvZHVjdCh2YWx1ZSk7XG4gICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgbWVzc2FnZS5zdWNjZXNzKCdD4bqtcCBuaOG6rXQgdGjDoG5oIGPDtG5nJyk7XG4gICAgICAgIG9uQ2xvc2UodmFsdWUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBtZXNzYWdlLmVycm9yKCdD4bqtcCBuaOG6rXQgdGjhuqV0IGLhuqFpJyk7XG4gICAgfVxuICAgIHNldElzVXBkYXRpbmcoZmFsc2UpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPE1vZGFsXG4gICAgICBjbGFzc05hbWU9XCJlZGl0LXByb2R1Y3QtbW9kYWxcIlxuICAgICAgZGVzdHJveU9uQ2xvc2U9e2ZhbHNlfVxuICAgICAgbWFza0Nsb3NhYmxlPXtmYWxzZX1cbiAgICAgIHZpc2libGU9e3Zpc2libGV9XG4gICAgICBva1RleHQ9XCJD4bqtcCBuaOG6rXRcIlxuICAgICAgY2FuY2VsVGV4dD1cIkh14bu3IGLhu49cIlxuICAgICAgb25DYW5jZWw9e29uQ2xvc2V9XG4gICAgICBva0J1dHRvblByb3BzPXt7IGZvcm06ICdlZGl0Rm9ybScsIGh0bWxUeXBlOiAnc3VibWl0JyB9fVxuICAgICAgdGl0bGU9XCJDaOG7iW5oIHPhu61hIHRow7RuZyB0aW4gc+G6o24gcGjhuqltXCJcbiAgICAgIGNvbmZpcm1Mb2FkaW5nPXtpc1VwZGF0aW5nfVxuICAgICAgd2lkdGg9ezEwMDB9XG4gICAgICBjZW50ZXJlZD5cbiAgICAgIDxGb3JtXG4gICAgICAgIGluaXRpYWxWYWx1ZXM9e2luaXRWYWx1ZXN9XG4gICAgICAgIG5hbWU9XCJlZGl0Rm9ybVwiXG4gICAgICAgIG9uRmluaXNoPXsodmFsdWUpID0+IG9uRWRpdCh2YWx1ZSl9PlxuICAgICAgICA8Um93IGd1dHRlcj17WzE2LCAxNl19PlxuICAgICAgICAgIHsvKiBJZCAqL31cbiAgICAgICAgICBcbiAgICAgICAgICA8Q29sIHNwYW49ezEyfT5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cIl9pZFwiPlxuICAgICAgICAgICAgICA8SW5wdXQgZGlzYWJsZWQgc2l6ZT1cImxhcmdlXCIgcGxhY2Vob2xkZXI9XCJJRFwiIC8+XG4gICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICA8L0NvbD5cblxuICAgICAgICAgIHsvKiBNw6Mgc+G6o24gcGjhuqltICovfVxuICAgICAgICAgIDxDb2wgc3Bhbj17MTJ9PlxuICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICBuYW1lPVwiY29kZVwiXG4gICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ0Lhuq90IGJ14buZYycsIHdoaXRlc3BhY2U6IHRydWUgfSxcbiAgICAgICAgICAgICAgXX0+XG4gICAgICAgICAgICAgIDxJbnB1dCBzaXplPVwibGFyZ2VcIiBwbGFjZWhvbGRlcj1cIk3DoyBz4bqjbiBwaOG6qW0gKlwiIC8+XG4gICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICA8L0NvbD5cblxuICAgICAgICAgIHsvKiBUw6puIHPhuqNuIHBo4bqpbSAqL31cbiAgICAgICAgICA8Q29sIHNwYW49ezEyfT5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICdC4bqvdCBideG7mWMnLCB3aGl0ZXNwYWNlOiB0cnVlIH0sXG4gICAgICAgICAgICAgIF19PlxuICAgICAgICAgICAgICA8SW5wdXQgc2l6ZT1cImxhcmdlXCIgcGxhY2Vob2xkZXI9XCJUw6puIHPhuqNuIHBo4bqpbSAqXCIgLz5cbiAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuXG4gICAgICAgICAgPC9Db2w+XG5cbiAgICAgICAgICAgey8qIEjDrG5oIOG6om5oIFPhuqNuIFBo4bqpbVxuICAgICAgICAgICA8Q29sIHNwYW49ezEyfT5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgYXZ0PVwiQXZhdGFyIHPhuqNuIHBo4bqpbVwiXG4gICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ0Lhuq90IGJ14buZYycsIHdoaXRlc3BhY2U6IHRydWUgfSxcbiAgICAgICAgICAgICAgXX0+XG4gICAgICAgICAgICAgIDxJbnB1dCBzaXplPVwibGFyZ2VcIiBwbGFjZWhvbGRlcj1cIkF2YXRhciBz4bqjbiBwaOG6qW1cIiAvPlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgPC9Db2w+ICovfVxuXG5cbiAgICAgICAgICB7LyogR2nDoSBz4bqjbiBwaOG6qW0gKi99XG4gICAgICAgICAgPENvbCBzcGFuPXsxMn0+XG4gICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgIG5hbWU9XCJwcmljZVwiXG4gICAgICAgICAgICAgIHJ1bGVzPXtbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ0Lhuq90IGJ14buZYycgfV19PlxuICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICBtaW49ezB9XG4gICAgICAgICAgICAgICAgbWF4PXs5MDAwMDAwMDAwfVxuICAgICAgICAgICAgICAgIHN0ZXA9ezEwMDAwMH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEwMFwiXG4gICAgICAgICAgICAgICAgc2l6ZT1cImxhcmdlXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkdpw6Egc+G6o24gcGjhuqltICpcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgPC9Db2w+XG5cbiAgICAgICAgICB7LyogTG/huqFpIHPhuqNuIHBo4bqpbSAqL31cbiAgICAgICAgICA8Q29sIHNwYW49ezEyfT5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgbmFtZT1cInR5cGVcIlxuICAgICAgICAgICAgICBydWxlcz17W3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICdC4bqvdCBideG7mWMnIH1dfT5cbiAgICAgICAgICAgICAgPFNlbGVjdCBzaXplPVwibGFyZ2VcIiBwbGFjZWhvbGRlcj1cIkxv4bqhaSBz4bqjbiBwaOG6qW0gKlwiPlxuICAgICAgICAgICAgICAgIHtjb25zdGFudHMuUFJPRFVDVF9UWVBFUy5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17aXRlbS50eXBlfSBrZXk9e2luZGV4fT5cbiAgICAgICAgICAgICAgICAgICAge2l0ZW0ubGFiZWx9XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgPC9Db2w+XG5cbiAgICAgICAgICB7LyogVGjGsMahbmcgaGnhu4d1ICovfVxuICAgICAgICAgIDxDb2wgc3Bhbj17MTJ9PlxuICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICBuYW1lPVwiYnJhbmRcIlxuICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICdC4bqvdCBideG7mWMnLCB3aGl0ZXNwYWNlOiB0cnVlIH0sXG4gICAgICAgICAgICAgIF19PlxuICAgICAgICAgICAgICA8SW5wdXQgc2l6ZT1cImxhcmdlXCIgcGxhY2Vob2xkZXI9XCJUaMawxqFuZyBoaeG7h3UgKlwiIC8+XG4gICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICA8L0NvbD5cblxuICAgICAgICAgIHsvKiBU4buTbiBraG8gKi99XG4gICAgICAgICAgPENvbCBzcGFuPXsxMn0+XG4gICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgIG5hbWU9XCJzdG9ja1wiXG4gICAgICAgICAgICAgIHJ1bGVzPXtbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ0Lhuq90IGJ14buZYycgfV19PlxuICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19XG4gICAgICAgICAgICAgICAgc3RlcD17MX1cbiAgICAgICAgICAgICAgICBzaXplPVwibGFyZ2VcIlxuICAgICAgICAgICAgICAgIG1pbj17MH1cbiAgICAgICAgICAgICAgICBtYXg9ezEwMDAwMH1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlThu5NuIGtobyAqXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgIDwvQ29sPlxuXG4gICAgICAgICAgey8qIE3hu6ljIGdp4bqjbSBnacOhICovfVxuICAgICAgICAgIDxDb2wgc3Bhbj17MTJ9PlxuICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICBuYW1lPVwiZGlzY291bnRcIlxuICAgICAgICAgICAgICBydWxlcz17W3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICdC4bqvdCBideG7mWMnIH1dfT5cbiAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fVxuICAgICAgICAgICAgICAgIHN0ZXA9ezF9XG4gICAgICAgICAgICAgICAgc2l6ZT1cImxhcmdlXCJcbiAgICAgICAgICAgICAgICBtaW49ezB9XG4gICAgICAgICAgICAgICAgbWF4PXsxMDB9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJN4bupYyBnaeG6o20gZ2nDoSAqXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgIDwvQ29sPlxuICAgICAgICA8L1Jvdz5cbiAgICAgIDwvRm9ybT5cbiAgICA8L01vZGFsPlxuICApO1xufVxuXG5FZGl0UHJvZHVjdE1vZGFsLnByb3BUeXBlcyA9IHtcbiAgb25DbG9zZTogUHJvcFR5cGVzLmZ1bmMsXG4gIHByb2R1Y3Q6IFByb3BUeXBlcy5vYmplY3QsXG4gIHZpc2libGU6IFByb3BUeXBlcy5ib29sLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgRWRpdFByb2R1Y3RNb2RhbDtcbiIsImltcG9ydCB7XG4gIERlbGV0ZU91dGxpbmVkLFxuICBFZGl0T3V0bGluZWQsXG4gIEV5ZU91dGxpbmVkLFxuICBXYXJuaW5nT3V0bGluZWQsXG59IGZyb20gJ0BhbnQtZGVzaWduL2ljb25zJztcbmltcG9ydCB7IG1lc3NhZ2UsIFBhZ2luYXRpb24sIFNwaW4sIFRhYmxlLCBUb29sdGlwIH0gZnJvbSAnYW50ZCc7XG5pbXBvcnQgTW9kYWwgZnJvbSAnYW50ZC9saWIvbW9kYWwvTW9kYWwnO1xuaW1wb3J0IGFkbWluQXBpIGZyb20gJ2FwaXMvYWRtaW5BcGknO1xuaW1wb3J0IHByb2R1Y3RBcGkgZnJvbSAnYXBpcy9wcm9kdWN0QXBpJztcbmltcG9ydCBoZWxwZXJzIGZyb20gJ2hlbHBlcnMnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRWRpdFByb2R1Y3RNb2RhbCBmcm9tICcuL0VkaXRQcm9kdWN0TW9kYWwnO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUZpbHRlclR5cGUoKSB7XG4gIGxldCByZXN1bHQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNTsgKytpKSB7XG4gICAgcmVzdWx0LnB1c2goeyB2YWx1ZTogaSwgdGV4dDogaGVscGVycy5jb252ZXJ0UHJvZHVjdFR5cGUoaSkgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gU2VlUHJvZHVjdCgpIHtcbiAgY29uc3QgW2VkaXRNb2RhbCwgc2V0RWRpdE1vZGFsXSA9IHVzZVN0YXRlKHsgdmlzaWJsZTogZmFsc2UsIHByb2R1Y3Q6IG51bGwgfSk7XG4gIGNvbnN0IFttb2RhbERlbCwgc2V0TW9kYWxEZWxdID0gdXNlU3RhdGUoeyB2aXNpYmxlOiBmYWxzZSwgX2lkOiAnJyB9KTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xpc3QsIHNldExpc3RdID0gdXNlU3RhdGUoW10pO1xuXG4gIC8vIGV2ZW50OiB4b8OhIHPhuqNuIHBo4bqpbVxuICBjb25zdCBvbkRlbGV0ZSA9IGFzeW5jIChfaWQpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhZG1pbkFwaS5yZW1vdmVQcm9kdWN0KF9pZCk7XG4gICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgbWVzc2FnZS5zdWNjZXNzKCdYb8OhIHRow6BuaCBjw7RuZy4nKTtcbiAgICAgICAgY29uc3QgbmV3TGlzdCA9IGxpc3QuZmlsdGVyKChpdGVtKSA9PiBpdGVtLl9pZCAhPT0gX2lkKTtcbiAgICAgICAgc2V0TGlzdChuZXdMaXN0KTtcbiAgICAgICAgc2V0VG90YWwodG90YWwgLSAxKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbWVzc2FnZS5lcnJvcignWG/DoSB0aOG6pXQgYuG6oWksIHRo4butIGzhuqFpICEnKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gZXZlbnQ6IGPhuq1wIG5o4bqtdCBz4bqjbiBwaOG6qW1cbiAgY29uc3Qgb25DbG9zZUVkaXRNb2RhbCA9IChuZXdQcm9kdWN0KSA9PiB7XG4gICAgY29uc3QgbmV3TGlzdCA9IGxpc3QubWFwKChpdGVtKSA9PlxuICAgICAgaXRlbS5faWQgIT09IG5ld1Byb2R1Y3QuX2lkID8gaXRlbSA6IHsgLi4uaXRlbSwgLi4ubmV3UHJvZHVjdCB9LFxuICAgICk7XG4gICAgc2V0TGlzdChuZXdMaXN0KTtcbiAgICBzZXRFZGl0TW9kYWwoeyB2aXNpYmxlOiBmYWxzZSB9KTtcbiAgfTtcblxuICAvLyBldmVudDogTOG6pXkgdG/DoG4gYuG7mSBkYW5oIHPDoWNoIHPhuqNuIHBo4bqpbVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpc1N1YnNjcmliZSA9IHRydWU7XG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIGFzeW5jIGZ1bmN0aW9uIGdldFByb2R1Y3RMaXN0KCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBwcm9kdWN0QXBpLmdldEFsbFByb2R1Y3RzKC0xKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlICYmIGlzU3Vic2NyaWJlKSB7XG4gICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgIGNvbnN0IGxpc3QgPSBkYXRhLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLml0ZW0sIGtleTogaW5kZXggfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRMaXN0KGxpc3QpO1xuICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChpc1N1YnNjcmliZSkgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgbWVzc2FnZS5lcnJvcignTOG6pXkgZGFuaCBzw6FjaCBz4bqjbiBwaOG6qW0gdGjhuqV0IGLhuqFpLicpO1xuICAgICAgfVxuICAgIH1cbiAgICBnZXRQcm9kdWN0TGlzdCgpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlzU3Vic2NyaWJlID0gZmFsc2U7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIEPhu5l0IGPhu6dhIGLhuqNuZ1xuICBjb25zdCBjb2x1bW5zID0gW1xuICAgIHtcbiAgICAgIHRpdGxlOiAnTcOjJyxcbiAgICAgIGtleTogJ2NvZGUnLFxuICAgICAgZGF0YUluZGV4OiAnY29kZScsXG4gICAgICByZW5kZXI6IChjb2RlLCBkYXRhKSA9PiAoXG4gICAgICAgIDxhIHRhcmdldD1cImJsYW5rXCIgaHJlZj17YC9wcm9kdWN0LyR7ZGF0YS5faWR9YH0+XG4gICAgICAgICAge2NvZGV9XG4gICAgICAgIDwvYT5cbiAgICAgICksXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogJ0jDrG5oIOG6om5oJyxcbiAgICAgIGtleTogJ2F2dCcsXG4gICAgICBkYXRhSW5kZXg6ICdhdnQnLFxuICAgICAgcmVuZGVyOiAoYXZ0KSA9PiAoXG5cbiAgICAgICAgPGltZyBjbGFzc05hbWU9XCJtYXgtdy0xMDAgbWF4LWgtMTAwXCIgc3JjPXthdnR9IGFsdD1cIlByb2R1Y3QgUGhvdG9cIiAvPlxuXG4gICAgICApLFxuICAgIH0sXG4gICAgXG4gICBcbiAgICB7XG4gICAgICB0aXRsZTogJ1TDqm4nLFxuICAgICAga2V5OiAnbmFtZScsXG4gICAgICBkYXRhSW5kZXg6ICduYW1lJyxcbiAgICAgIHJlbmRlcjogKG5hbWUpID0+IChcbiAgICAgICAgPFRvb2x0aXAgdGl0bGU9e25hbWV9PntoZWxwZXJzLnJlZHVjZVByb2R1Y3ROYW1lKG5hbWUsIDQwKX08L1Rvb2x0aXA+XG4gICAgICApLFxuICAgIH0sXG4gICAgXG4gICBcbiAgICB7XG4gICAgICB0aXRsZTogJ0dpw6EnLFxuICAgICAga2V5OiAncHJpY2UnLFxuICAgICAgZGF0YUluZGV4OiAncHJpY2UnLFxuICAgICAgZGVmYXVsdFNvcnRPcmRlcjogJ2Rlc2NlbmQnLFxuICAgICAgc29ydGVyOiAoYSwgYikgPT4gYS5wcmljZSAtIGIucHJpY2UsXG4gICAgICByZW5kZXI6IChwcmljZSkgPT4gKFxuICAgICAgICA8aDMgc3R5bGU9e3sgY29sb3I6ICcjNEY1NUM1JyB9fT5cbiAgICAgICAgICB7cHJpY2UgPyBoZWxwZXJzLmZvcm1hdFByb2R1Y3RQcmljZShwcmljZSkgOiAnTGnDqm4gaOG7hyd9XG4gICAgICAgIDwvaDM+XG4gICAgICApLFxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdMb+G6oWknLFxuICAgICAga2V5OiAndHlwZScsXG4gICAgICBkYXRhSW5kZXg6ICd0eXBlJyxcbiAgICAgIGZpbHRlcnM6IGdlbmVyYXRlRmlsdGVyVHlwZSgpLFxuICAgICAgb25GaWx0ZXI6ICh2YWx1ZSwgcmVjb3JkKSA9PiByZWNvcmQudHlwZSA9PT0gdmFsdWUsXG4gICAgICByZW5kZXI6ICh0eXBlKSA9PiBoZWxwZXJzLmNvbnZlcnRQcm9kdWN0VHlwZSh0eXBlKSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiAnVGjGsMahbmcgaGnhu4d1JyxcbiAgICAgIGtleTogJ2JyYW5kJyxcbiAgICAgIGRhdGFJbmRleDogJ2JyYW5kJyxcbiAgICAgIHNvcnRlcjogKGEsIGIpID0+IHtcbiAgICAgICAgaWYgKGEuYnJhbmQgPCBiLmJyYW5kKSByZXR1cm4gLTE7XG4gICAgICAgIGlmIChhLmJyYW5kID4gYi5icmFuZCkgcmV0dXJuIDE7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfSxcbiAgICAgIHJlbmRlcjogKGJyYW5kKSA9PiAoXG4gICAgICAgIDxUb29sdGlwIHRpdGxlPXticmFuZH0+e2hlbHBlcnMucmVkdWNlUHJvZHVjdE5hbWUoYnJhbmQsIDQwKX08L1Rvb2x0aXA+XG4gICAgICApLFxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdU4buTbiBraG8nLFxuICAgICAga2V5OiAnc3RvY2snLFxuICAgICAgZGF0YUluZGV4OiAnc3RvY2snLFxuICAgICAgZGVmYXVsdFNvcnRPcmRlcjogJ2FzY2VuZCcsXG4gICAgICBzb3J0ZXI6IChhLCBiKSA9PiBhLnN0b2NrIC0gYi5zdG9jayxcbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiAnTeG7qWMgZ2nhuqNtIGdpw6EnLFxuICAgICAga2V5OiAnZGlzY291bnQnLFxuICAgICAgZGF0YUluZGV4OiAnZGlzY291bnQnLFxuICAgICAgZGVmYXVsdFNvcnRPcmRlcjogJ2FzY2VuZCcsXG4gICAgICBzb3J0ZXI6IChhLCBiKSA9PiBhLmRpc2NvdW50IC0gYi5kaXNjb3VudCxcbiAgICAgIHJlbmRlcjogKGRpc2NvdW50KSA9PiBgJHtkaXNjb3VudH0gJWAsXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogJ8SQw6FuaCBnacOhJyxcbiAgICAgIGtleTogJ3JhdGUnLFxuICAgICAgZGF0YUluZGV4OiAncmF0ZScsXG4gICAgICByZW5kZXI6IChyYXRlKSA9PiBoZWxwZXJzLmNhbFN0YXIocmF0ZSkudG9GaXhlZCgxKSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiAnSMOgbmggxJHhu5luZycsXG4gICAgICBrZXk6ICdhY3Rpb25zJyxcbiAgICAgIGZpeGVkOiAncmlnaHQnLFxuICAgICAgd2lkdGg6IDEwMCxcbiAgICAgIHJlbmRlcjogKHRleHQpID0+IChcbiAgICAgICAgPD5cbiAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldE1vZGFsRGVsKHsgdmlzaWJsZTogdHJ1ZSwgX2lkOiB0ZXh0Ll9pZCB9KX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm0tci04IGFjdGlvbi1idG4tcHJvZHVjdFwiXG4gICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJ3JlZCcgfX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxUb29sdGlwIHRpdGxlPVwiQ2jhu4luaCBz4butYVwiIHBsYWNlbWVudD1cImxlZnRcIj5cbiAgICAgICAgICAgIDxFZGl0T3V0bGluZWRcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldEVkaXRNb2RhbCh7IHZpc2libGU6IHRydWUsIHByb2R1Y3Q6IHsgLi4udGV4dCB9IH0pO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtLXItOCBhY3Rpb24tYnRuLXByb2R1Y3RcIlxuICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJyM0NDQnIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvVG9vbHRpcD5cblxuICAgICAgICAgIDxUb29sdGlwIHRpdGxlPVwiWGVtIGNoaSB0aeG6v3RcIiBwbGFjZW1lbnQ9XCJsZWZ0XCI+XG4gICAgICAgICAgICA8YSB0YXJnZXQ9XCJibGFua1wiIGhyZWY9e2AvcHJvZHVjdC8ke3RleHQuX2lkfWB9PlxuICAgICAgICAgICAgICA8RXllT3V0bGluZWRcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhY3Rpb24tYnRuLXByb2R1Y3RcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiAnIzQ0NCcgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgIDwvPlxuICAgICAgKSxcbiAgICB9LFxuICBdO1xuXG4gIC8vIHJlbmRlcmluZyAuLi5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvcy1yZWxhdGl2ZSBwLThcIj5cbiAgICAgIHtpc0xvYWRpbmcgPyAoXG4gICAgICAgIDxTcGluXG4gICAgICAgICAgdGlwPVwixJBhbmcgdOG6o2kgZGFuaCBzw6FjaCBz4bqjbiBwaOG6qW0gLi4uXCJcbiAgICAgICAgICBzaXplPVwibGFyZ2VcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cInRyYW5zLWNlbnRlclwiXG4gICAgICAgIC8+XG4gICAgICApIDogKFxuICAgICAgICA8PlxuICAgICAgICAgIHsnICd9XG4gICAgICAgICAgey8qIG1vZGFsIGNvbmZpcm0gZGVsZXRlIHByb2R1Y3QgKi99XG4gICAgICAgICAgPE1vZGFsXG4gICAgICAgICAgICB0aXRsZT1cIljDoWMgbmjhuq1uIHhvw6Egc+G6o24gcGjhuqltXCJcbiAgICAgICAgICAgIHZpc2libGU9e21vZGFsRGVsLnZpc2libGV9XG4gICAgICAgICAgICBvbk9rPXsoKSA9PiB7XG4gICAgICAgICAgICAgIG9uRGVsZXRlKG1vZGFsRGVsLl9pZCk7XG4gICAgICAgICAgICAgIHNldE1vZGFsRGVsKHsgdmlzaWJsZTogZmFsc2UsIF9pZDogZmFsc2UgfSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25DYW5jZWw9eygpID0+IHNldE1vZGFsRGVsKHsgdmlzaWJsZTogZmFsc2UsIF9pZDogZmFsc2UgfSl9XG4gICAgICAgICAgICBva0J1dHRvblByb3BzPXt7IGRhbmdlcjogdHJ1ZSB9fVxuICAgICAgICAgICAgb2tUZXh0PVwiWG/DoVwiXG4gICAgICAgICAgICBjYW5jZWxUZXh0PVwiSHXhu7cgYuG7j1wiPlxuICAgICAgICAgICAgPFdhcm5pbmdPdXRsaW5lZCBzdHlsZT17eyBmb250U2l6ZTogMjgsIGNvbG9yOiAnI0Y3QjIxNycgfX0gLz5cbiAgICAgICAgICAgIDxiPiBLaMO0bmcgdGjhu4Mga2jDtGkgcGjhu6VjIMSRxrDhu6NjLCBi4bqhbiBjw7MgY2jhuq9jIG114buRbiB4b8OhID88L2I+XG4gICAgICAgICAgPC9Nb2RhbD5cbiAgICAgICAgICB7LyogdGFibGUgc2hvdyBwcm9kdWN0IGxpc3QgKi99XG4gICAgICAgICAgPFRhYmxlXG4gICAgICAgICAgICBwYWdpbmF0aW9uPXt7XG4gICAgICAgICAgICAgIHBhZ2VTaXplOiAxMCxcbiAgICAgICAgICAgICAgcG9zaXRpb246IFsnYm90dG9tQ2VudGVyJ10sXG4gICAgICAgICAgICAgIHNob3dTaXplQ2hhbmdlcjogZmFsc2UsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWRtaW4tc2VlLXByb2R1Y3RcIlxuICAgICAgICAgICAgY29sdW1ucz17Y29sdW1uc31cbiAgICAgICAgICAgIGRhdGFTb3VyY2U9e2xpc3R9XG4gICAgICAgICAgLz5cbiAgICAgICAgICB7LyogZWRpdCBwcm9kdWN0IG1vZGFsICovfVxuICAgICAgICAgIDxFZGl0UHJvZHVjdE1vZGFsXG4gICAgICAgICAgICB2aXNpYmxlPXtlZGl0TW9kYWwudmlzaWJsZX1cbiAgICAgICAgICAgIG9uQ2xvc2U9eyh2YWx1ZSkgPT4gb25DbG9zZUVkaXRNb2RhbCh2YWx1ZSl9XG4gICAgICAgICAgICBwcm9kdWN0PXtlZGl0TW9kYWwucHJvZHVjdH1cbiAgICAgICAgICAvPlxuICAgICAgICA8Lz5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlZVByb2R1Y3Q7XG4iXSwic291cmNlUm9vdCI6IiJ9